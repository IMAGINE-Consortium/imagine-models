name: ImagineModels C++ CI

on: [push]
 # push:
 #   branches: [ $main, ]
 # pull_request:
 #   branches: [ $main]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    - name: setup
      run: cd c_library && mkdir build && export MKPATH=pwd && cd build 
    - name: cmake
      run: cmake -P ${MKPATH}
    - name: make
      run: make install
    - name: ctest
      run: ctest --output-on-failure --use-colour yes